<svg viewBox="0 0 1200 950" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <!-- Enhanced Gradients -->
    <linearGradient id="islamicGreen" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#1B5E20;stop-opacity:1" />
      <stop offset="50%" style="stop-color:#2E7D32;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#4CAF50;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="goldGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#FF8F00;stop-opacity:1" />
      <stop offset="50%" style="stop-color:#FFB300;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#FFD54F;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="blueGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#0D47A1;stop-opacity:1" />
      <stop offset="50%" style="stop-color:#1976D2;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#42A5F5;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="redGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#BF360C;stop-opacity:1" />
      <stop offset="50%" style="stop-color:#FF5722;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#FF8A65;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="purpleGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#4A148C;stop-opacity:1" />
      <stop offset="50%" style="stop-color:#7B1FA2;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#BA68C8;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="brownGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#3E2723;stop-opacity:1" />
      <stop offset="50%" style="stop-color:#5D4037;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#8D6E63;stop-opacity:1" />
    </linearGradient>
    
    <!-- Enhanced Filters -->
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="3" dy="3" stdDeviation="4" flood-opacity="0.4"/>
    </filter>
    
    <filter id="glow">
      <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
      <feMerge> 
        <feMergeNode in="coloredBlur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
    
    <!-- Islamic Pattern -->
    <pattern id="islamicPattern" x="0" y="0" width="40" height="40" patternUnits="userSpaceOnUse">
      <rect width="40" height="40" fill="#fafafa"/>
      <circle cx="20" cy="20" r="12" fill="none" stroke="#e8f5e8" stroke-width="1" opacity="0.3"/>
      <path d="M20,8 L32,20 L20,32 L8,20 Z" fill="#e8f5e8" opacity="0.15"/>
      <circle cx="20" cy="20" r="6" fill="none" stroke="#e8f5e8" stroke-width="0.5" opacity="0.5"/>
    </pattern>
    
    <!-- Arrow Markers -->
    <marker id="arrowhead" markerWidth="12" markerHeight="8" 
            refX="11" refY="4" orient="auto" markerUnits="strokeWidth">
      <polygon points="0 0, 12 4, 0 8" fill="#2E7D32" opacity="0.8" />
    </marker>
    
    <marker id="goldArrow" markerWidth="12" markerHeight="8" 
            refX="11" refY="4" orient="auto" markerUnits="strokeWidth">
      <polygon points="0 0, 12 4, 0 8" fill="#FF8F00" opacity="0.8" />
    </marker>
  </defs>
  
  <!-- Enhanced Background -->
  <rect width="1200" height="950" fill="url(#islamicPattern)"/>
  
  <!-- Decorative Border -->
  <rect width="1200" height="950" fill="none" stroke="url(#islamicGreen)" stroke-width="4" opacity="0.6"/>
  
  <!-- Main Title with enhanced styling -->
  <g transform="translate(600, 25)">
    <rect x="-300" y="-15" width="600" height="40" rx="20" fill="url(#goldGradient)" filter="url(#shadow)"/>
    <text x="0" y="0" text-anchor="middle" font-family="Arial, sans-serif" font-size="24" font-weight="bold" fill="white">
      üïå ToolsForUmmah - Clean Architecture
    </text>
    <text x="0" y="15" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white" opacity="0.9">
      Islamic App Development Framework
    </text>
  </g>
  
  <!-- PRESENTATION LAYER -->
  <g id="presentationLayer">
    <rect x="50" y="80" width="1100" height="160" rx="15" fill="url(#islamicGreen)" filter="url(#shadow)"/>
    <text x="600" y="110" text-anchor="middle" font-family="Arial, sans-serif" font-size="22" font-weight="bold" fill="white">
      üé® Presentation Layer (Flutter UI)
    </text>
    
    <!-- Enhanced UI Components -->
    <rect x="80" y="130" width="140" height="90" rx="10" fill="white" opacity="0.95" filter="url(#shadow)"/>
    <text x="150" y="150" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#1B5E20">
      üì± Screens &amp; Pages
    </text>
    <text x="150" y="165" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">‚Ä¢ HomeScreen</text>
    <text x="150" y="178" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">‚Ä¢ ZakatCalculatorScreen</text>
    <text x="150" y="191" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">‚Ä¢ PrayerTimesScreen</text>
    <text x="150" y="204" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">‚Ä¢ QiblaCompassScreen</text>
    
    <rect x="240" y="130" width="140" height="90" rx="10" fill="white" opacity="0.95" filter="url(#shadow)"/>
    <text x="310" y="150" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#1B5E20">
      üß© Custom Widgets
    </text>
    <text x="310" y="165" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">‚Ä¢ IslamicAppBar</text>
    <text x="310" y="178" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">‚Ä¢ QiblaCompassWidget</text>
    <text x="310" y="191" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">‚Ä¢ PrayerTimeCard</text>
    <text x="310" y="204" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">‚Ä¢ ZakatInputForm</text>
    
    <rect x="400" y="130" width="140" height="90" rx="10" fill="url(#goldGradient)" filter="url(#shadow)"/>
    <text x="470" y="150" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">
      üß† State Management
    </text>
    <text x="470" y="165" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">‚Ä¢ Riverpod Providers</text>
    <text x="470" y="178" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">‚Ä¢ StateNotifiers</text>
    <text x="470" y="191" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">‚Ä¢ AsyncValues</text>
    <text x="470" y="204" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">‚Ä¢ FutureProviders</text>
    
    <rect x="560" y="130" width="140" height="90" rx="10" fill="white" opacity="0.95" filter="url(#shadow)"/>
    <text x="630" y="150" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#1B5E20">
      üé≠ View Controllers
    </text>
    <text x="630" y="165" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">‚Ä¢ ZakatController</text>
    <text x="630" y="178" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">‚Ä¢ PrayerController</text>
    <text x="630" y="191" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">‚Ä¢ QiblaController</text>
    <text x="630" y="204" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">‚Ä¢ FastingController</text>
    
    <rect x="720" y="130" width="140" height="90" rx="10" fill="white" opacity="0.95" filter="url(#shadow)"/>
    <text x="790" y="150" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#1B5E20">
      üåê Localization &amp; i18n
    </text>
    <text x="790" y="165" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">‚Ä¢ English (EN)</text>
    <text x="790" y="178" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">‚Ä¢ Bengali (BN)</text>
    <text x="790" y="191" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">‚Ä¢ Arabic (AR)</text>
    <text x="790" y="204" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">‚Ä¢ RTL Support</text>
    
    <rect x="880" y="130" width="140" height="90" rx="10" fill="white" opacity="0.95" filter="url(#shadow)"/>
    <text x="950" y="150" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#1B5E20">
      üé® Theming &amp; Design
    </text>
    <text x="950" y="165" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">‚Ä¢ Islamic Color Scheme</text>
    <text x="950" y="178" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">‚Ä¢ Arabic Typography</text>
    <text x="950" y="191" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">‚Ä¢ Material Design 3</text>
    <text x="950" y="204" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">‚Ä¢ Dark/Light Modes</text>
  </g>
  
  <!-- DOMAIN LAYER -->
  <g id="domainLayer">
    <rect x="50" y="270" width="1100" height="150" rx="15" fill="url(#blueGradient)" filter="url(#shadow)"/>
    <text x="600" y="300" text-anchor="middle" font-family="Arial, sans-serif" font-size="22" font-weight="bold" fill="white">
      üèõÔ∏è Domain Layer (Business Logic &amp; Islamic Rules)
    </text>
    
    <rect x="80" y="320" width="130" height="80" rx="10" fill="white" opacity="0.95" filter="url(#shadow)"/>
    <text x="145" y="340" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#0D47A1">
      üì¶ Entities
    </text>
    <text x="145" y="355" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">‚Ä¢ ZakatCalculation</text>
    <text x="145" y="367" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">‚Ä¢ Prayer</text>
    <text x="145" y="379" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">‚Ä¢ FastingDay</text>
    <text x="145" y="391" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">‚Ä¢ HijriDate</text>
    
    <rect x="230" y="320" width="130" height="80" rx="10" fill="white" opacity="0.95" filter="url(#shadow)"/>
    <text x="295" y="340" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#0D47A1">
      ‚öôÔ∏è Use Cases
    </text>
    <text x="295" y="355" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">‚Ä¢ CalculateZakatUseCase</text>
    <text x="295" y="367" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">‚Ä¢ GetPrayerTimesUseCase</text>
    <text x="295" y="379" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">‚Ä¢ TrackFastingUseCase</text>
    <text x="295" y="391" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">‚Ä¢ FindQiblaUseCase</text>
    
    <rect x="380" y="320" width="130" height="80" rx="10" fill="white" opacity="0.95" filter="url(#shadow)"/>
    <text x="445" y="340" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#0D47A1">
      üîå Repository Contracts
    </text>
    <text x="445" y="355" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">‚Ä¢ IZakatRepository</text>
    <text x="445" y="367" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">‚Ä¢ IPrayerRepository</text>
    <text x="445" y="379" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">‚Ä¢ IQuranRepository</text>
    <text x="445" y="391" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">‚Ä¢ IUserRepository</text>
    
    <rect x="530" y="320" width="130" height="80" rx="10" fill="white" opacity="0.95" filter="url(#shadow)"/>
    <text x="595" y="340" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#0D47A1">
      üíé Value Objects
    </text>
    <text x="595" y="355" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">‚Ä¢ Money (Nisab)</text>
    <text x="595" y="367" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">‚Ä¢ GeoCoordinate</text>
    <text x="595" y="379" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">‚Ä¢ QiblaDirection</text>
    <text x="595" y="391" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">‚Ä¢ IslamicTime</text>
    
    <rect x="680" y="320" width="130" height="80" rx="10" fill="white" opacity="0.95" filter="url(#shadow)"/>
    <text x="745" y="340" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#0D47A1">
      üìè Islamic Business Rules
    </text>
    <text x="745" y="355" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">‚Ä¢ NisabValidator</text>
    <text x="745" y="367" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">‚Ä¢ PrayerTimeCalculator</text>
    <text x="745" y="379" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">‚Ä¢ ZakatRateCalculator</text>
    <text x="745" y="391" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">‚Ä¢ QiblaCalculator</text>
    
    <rect x="830" y="320" width="130" height="80" rx="10" fill="white" opacity="0.95" filter="url(#shadow)"/>
    <text x="895" y="340" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#0D47A1">
      üîß Domain Services
    </text>
    <text x="895" y="355" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">‚Ä¢ IslamicCalculator</text>
    <text x="895" y="367" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">‚Ä¢ HijriConverter</text>
    <text x="895" y="379" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">‚Ä¢ LocationService</text>
    <text x="895" y="391" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">‚Ä¢ TimezoneDeterminer</text>
    
    <rect x="980" y="320" width="130" height="80" rx="10" fill="white" opacity="0.95" filter="url(#shadow)"/>
    <text x="1045" y="340" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#0D47A1">
      üì¢ Domain Events
    </text>
    <text x="1045" y="355" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">‚Ä¢ ZakatCalculated</text>
    <text x="1045" y="367" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">‚Ä¢ PrayerTimeReached</text>
    <text x="1045" y="379" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">‚Ä¢ FastingCompleted</text>
    <text x="1045" y="391" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">‚Ä¢ QiblaFound</text>
  </g>
  
  <!-- DATA LAYER -->
  <g id="dataLayer">
    <rect x="50" y="450" width="1100" height="150" rx="15" fill="url(#redGradient)" filter="url(#shadow)"/>
    <text x="600" y="480" text-anchor="middle" font-family="Arial, sans-serif" font-size="22" font-weight="bold" fill="white">
      üíæ Data Layer (Infrastructure &amp; External Services)
    </text>
    
    <rect x="80" y="500" width="135" height="80" rx="10" fill="white" opacity="0.95" filter="url(#shadow)"/>
    <text x="147" y="520" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#BF360C">
      üóÑÔ∏è Repository Impl.
    </text>
    <text x="147" y="535" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">‚Ä¢ ZakatRepositoryImpl</text>
    <text x="147" y="547" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">‚Ä¢ PrayerRepositoryImpl</text>
    <text x="147" y="559" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">‚Ä¢ QuranRepositoryImpl</text>
    <text x="147" y="571" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">‚Ä¢ UserRepositoryImpl</text>
    
    <rect x="235" y="500" width="135" height="80" rx="10" fill="white" opacity="0.95" filter="url(#shadow)"/>
    <text x="302" y="520" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#BF360C">
      üì° Data Sources
    </text>
    <text x="302" y="535" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">‚Ä¢ RemoteDataSource</text>
    <text x="302" y="547" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">‚Ä¢ LocalDataSource</text>
    <text x="302" y="559" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">‚Ä¢ CacheDataSource</text>
    <text x="302" y="571" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">‚Ä¢ OfflineDataSource</text>
    
    <rect x="390" y="500" width="135" height="80" rx="10" fill="white" opacity="0.95" filter="url(#shadow)"/>
    <text x="457" y="520" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#BF360C">
      üåê API Clients
    </text>
    <text x="457" y="535" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">‚Ä¢ QuranApiClient</text>
    <text x="457" y="547" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">‚Ä¢ AlAdhanApiClient</text>
    <text x="457" y="559" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">‚Ä¢ IslamicFinderApi</text>
    <text x="457" y="571" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">‚Ä¢ GoldPriceApiClient</text>
    
    <rect x="545" y="500" width="135" height="80" rx="10" fill="white" opacity="0.95" filter="url(#shadow)"/>
    <text x="612" y="520" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#BF360C">
      üíø Local Storage
    </text>
    <text x="612" y="535" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">‚Ä¢ HiveBoxes</text>
    <text x="612" y="547" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">‚Ä¢ SQLite (Drift)</text>
    <text x="612" y="559" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">‚Ä¢ SharedPreferences</text>
    <text x="612" y="571" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">‚Ä¢ SecureStorage</text>
    
    <rect x="700" y="500" width="135" height="80" rx="10" fill="white" opacity="0.95" filter="url(#shadow)"/>
    <text x="767" y="520" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#BF360C">
      üìã DTOs &amp; Models
    </text>
    <text x="767" y="535" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">‚Ä¢ ZakatCalculationDto</text>
    <text x="767" y="547" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">‚Ä¢ PrayerTimesDto</text>
    <text x="767" y="559" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">‚Ä¢ QuranVerseDto</text>
    <text x="767" y="571" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">‚Ä¢ UserProfileDto</text>
    
    <rect x="855" y="500" width="135" height="80" rx="10" fill="white" opacity="0.95" filter="url(#shadow)"/>
    <text x="922" y="520" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#BF360C">
      üåê Network Layer
    </text>
    <text x="922" y="535" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">‚Ä¢ Dio HTTP Client</text>
    <text x="922" y="547" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">‚Ä¢ Request Interceptors</text>
    <text x="922" y="559" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">‚Ä¢ Error Handling</text>
    <text x="922" y="571" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">‚Ä¢ Retry Logic</text>
    
    <rect x="1010" y="500" width="130" height="80" rx="10" fill="white" opacity="0.95" filter="url(#shadow)"/>
    <text x="1075" y="520" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#BF360C">
      üìÅ File Management
    </text>
    <text x="1075" y="535" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">‚Ä¢ PDF Generator</text>
    <text x="1075" y="547" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">‚Ä¢ File Manager</text>
    <text x="1075" y="559" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">‚Ä¢ Asset Loader</text>
    <text x="1075" y="571" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">‚Ä¢ Image Processing</text>
  </g>
  
  <!-- CORE LAYER -->
  <g id="coreLayer">
    <rect x="50" y="630" width="1100" height="130" rx="15" fill="url(#purpleGradient)" filter="url(#shadow)"/>
    <text x="600" y="660" text-anchor="middle" font-family="Arial, sans-serif" font-size="22" font-weight="bold" fill="white">
      ‚ö° Core/Shared Layer (Cross-Cutting Concerns)
    </text>
    
    <rect x="80" y="680" width="135" height="60" rx="8" fill="white" opacity="0.95" filter="url(#shadow)"/>
    <text x="147" y="700" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#4A148C">
      üîß Utilities &amp; Helpers
    </text>
    <text x="147" y="715" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">Extensions ‚Ä¢ Validators ‚Ä¢ Constants</text>
    <text x="147" y="727" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">Islamic Calendar ‚Ä¢ Number Utils</text>
    
    <rect x="235" y="680" width="135" height="60" rx="8" fill="white" opacity="0.95" filter="url(#shadow)"/>
    <text x="302" y="700" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#4A148C">
      üö® Error Handling
    </text>
    <text x="302" y="715" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">Failures ‚Ä¢ Exceptions ‚Ä¢ Either</text>
    <text x="302" y="727" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">Custom Error Types ‚Ä¢ Result</text>
    
    <rect x="390" y="680" width="135" height="60" rx="8" fill="white" opacity="0.95" filter="url(#shadow)"/>
    <text x="457" y="700" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#4A148C">
      üìù Logging &amp; Analytics
    </text>
    <text x="457" y="715" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">Debug Logs ‚Ä¢ Firebase Analytics</text>
    <text x="457" y="727" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">Crashlytics ‚Ä¢ Performance</text>
    
    <rect x="545" y="680" width="135" height="60" rx="8" fill="white" opacity="0.95" filter="url(#shadow)"/>
    <text x="612" y="700" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#4A148C">
      üíâ Dependency Injection
    </text>
    <text x="612" y="715" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">Riverpod Providers ‚Ä¢ GetIt</text>
    <text x="612" y="727" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">Service Locator ‚Ä¢ DI Container</text>
    
    <rect x="700" y="680" width="135" height="60" rx="8" fill="white" opacity="0.95" filter="url(#shadow)"/>
    <text x="767" y="700" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#4A148C">
      ‚öôÔ∏è Configuration
    </text>
    <text x="767" y="715" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">Environment Config ‚Ä¢ API Keys</text>
    <text x="767" y="727" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">Feature Flags ‚Ä¢ Settings</text>
    
    <rect x="855" y="680" width="135" height="60" rx="8" fill="white" opacity="0.95" filter="url(#shadow)"/>
    <text x="922" y="700" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#4A148C">
      üõ°Ô∏è Security &amp; Auth
    </text>
    <text x="922" y="715" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">Encryption ‚Ä¢ Biometric Auth</text>
    <text x="922" y="727" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">JWT ‚Ä¢ OAuth ‚Ä¢ Privacy</text>
    
    <rect x="1010" y="680" width="130" height="60" rx="8" fill="white" opacity="0.95" filter="url(#shadow)"/>
    <text x="1075" y="700" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#4A148C">
      üß™ Testing Framework
    </text>
    <text x="1075" y="715" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">Unit ‚Ä¢ Widget ‚Ä¢ Integration</text>
    <text x="1075" y="727" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">Mocks ‚Ä¢ Golden Tests</text>
  </g>
  
  <!-- PLATFORM SERVICES LAYER -->
  <g id="platformLayer">
    <rect x="50" y="790" width="1100" height="110" rx="15" fill="url(#brownGradient)" filter="url(#shadow)"/>
    <text x="600" y="820" text-anchor="middle" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="white">
      üì± Platform Services (Device Integration &amp; Native Features)
    </text>
    
    <rect x="90" y="840" width="115" height="50" rx="8" fill="white" opacity="0.95" filter="url(#shadow)"/>
    <text x="147" y="860" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#3E2723">
      üìç Location Services
    </text>
    <text x="147" y="873" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#666">GPS ‚Ä¢ Geolocator ‚Ä¢ Qibla</text>
    <text x="147" y="883" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#666">Background Location</text>
    
    <rect x="220" y="840" width="115" height="50" rx="8" fill="white" opacity="0.95" filter="url(#shadow)"/>
    <text x="277" y="860" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#3E2723">
      üîî Notifications
    </text>
    <text x="277" y="873" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#666">Prayer Reminders ‚Ä¢ Athan</text>
    <text x="277" y="883" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#666">Push Notifications</text>
    
    <rect x="350" y="840" width="115" height="50" rx="8" fill="white" opacity="0.95" filter="url(#shadow)"/>
    <text x="407" y="860" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#3E2723">
      üéµ Audio Player
    </text>
    <text x="407" y="873" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#666">Quran Recitation ‚Ä¢ Athan</text>
    <text x="407" y="883" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#666">Background Audio</text>
    
    <rect x="480" y="840" width="115" height="50" rx="8" fill="white" opacity="0.95" filter="url(#shadow)"/>
    <text x="537" y="860" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#3E2723">
      üß≠ Compass/Sensors
    </text>
    <text x="537" y="873" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#666">Magnetometer ‚Ä¢ Gyroscope</text>
    <text x="537" y="883" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#666">Device Orientation</text>
    
    <rect x="610" y="840" width="115" height="50" rx="8" fill="white" opacity="0.95" filter="url(#shadow)"/>
    <text x="667" y="860" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#3E2723">
      üì∑ File System
    </text>
    <text x="667" y="873" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#666">PDF Export ‚Ä¢ Images</text>
    <text x="667" y="883" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#666">Document Sharing</text>
    
    <rect x="740" y="840" width="115" height="50" rx="8" fill="white" opacity="0.95" filter="url(#shadow)"/>
    <text x="797" y="860" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#3E2723">
      üîê Biometric Auth
    </text>
    <text x="797" y="873" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#666">Fingerprint ‚Ä¢ Face ID</text>
    <text x="797" y="883" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#666">Local Authentication</text>
    
    <rect x="870" y="840" width="115" height="50" rx="8" fill="white" opacity="0.95" filter="url(#shadow)"/>
    <text x="927" y="860" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#3E2723">
      üì≤ App Lifecycle
    </text>
    <text x="927" y="873" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#666">Background Tasks</text>
    <text x="927" y="883" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#666">State Management</text>
    
    <rect x="1000" y="840" width="115" height="50" rx="8" fill="white" opacity="0.95" filter="url(#shadow)"/>
    <text x="1057" y="860" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#3E2723">
      üåê Connectivity
    </text>
    <text x="1057" y="873" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#666">Network Status</text>
    <text x="1057" y="883" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#666">Offline Support</text>
  </g>
  
  <!-- DEPENDENCY FLOW ARROWS -->
  <g id="dependencyFlow">
    <!-- Main vertical arrows -->
    <line x1="600" y1="240" x2="600" y2="270" stroke="url(#islamicGreen)" stroke-width="3" marker-end="url(#arrowhead)"/>
    <line x1="600" y1="420" x2="600" y2="450" stroke="url(#islamicGreen)" stroke-width="3" marker-end="url(#arrowhead)"/>
    <line x1="600" y1="600" x2="600" y2="630" stroke="url(#islamicGreen)" stroke-width="3" marker-end="url(#arrowhead)"/>
    <line x1="600" y1="760" x2="600" y2="790" stroke="url(#islamicGreen)" stroke-width="3" marker-end="url(#arrowhead)"/>
    
    <!-- Horizontal connection arrows showing data flow -->
    <path d="M 470,175 Q 500,185 530,175" stroke="url(#goldGradient)" stroke-width="2" fill="none" marker-end="url(#goldArrow)"/>
    <path d="M 445,360 Q 475,370 505,360" stroke="url(#goldGradient)" stroke-width="2" fill="none" marker-end="url(#goldArrow)"/>
    
    <!-- Dependency Labels with enhanced styling -->
    <g transform="translate(620, 255)">
      <rect x="-30" y="-8" width="60" height="16" rx="8" fill="white" opacity="0.9" stroke="url(#islamicGreen)" stroke-width="1"/>
      <text x="0" y="0" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" font-weight="bold" fill="#1B5E20">Depends on</text>
    </g>
    
    <g transform="translate(620, 435)">
      <rect x="-30" y="-8" width="60" height="16" rx="8" fill="white" opacity="0.9" stroke="url(#islamicGreen)" stroke-width="1"/>
      <text x="0" y="0" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" font-weight="bold" fill="#1B5E20">Implements</text>
    </g>
    
    <g transform="translate(620, 615)">
      <rect x="-25" y="-8" width="50" height="16" rx="8" fill="white" opacity="0.9" stroke="url(#islamicGreen)" stroke-width="1"/>
      <text x="0" y="0" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" font-weight="bold" fill="#1B5E20">Uses</text>
    </g>
    
    <g transform="translate(620, 775)">
      <rect x="-30" y="-8" width="60" height="16" rx="8" fill="white" opacity="0.9" stroke="url(#islamicGreen)" stroke-width="1"/>
      <text x="0" y="0" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" font-weight="bold" fill="#1B5E20">Accesses</text>
    </g>
  </g>
  
  <!-- ISLAMIC DECORATIVE ELEMENTS -->
  <g id="decorativeElements">
    <!-- Enhanced corner decorations -->
    <g transform="translate(30, 30)">
      <circle r="18" fill="url(#goldGradient)" opacity="0.9" filter="url(#glow)"/>
      <path d="M-12,-12 L12,-12 L12,12 L-12,12 Z" fill="white" opacity="0.8" transform="rotate(45)"/>
      <circle r="8" fill="url(#islamicGreen)" opacity="0.7"/>
    </g>
    
    <g transform="translate(1170, 30)">
      <circle r="18" fill="url(#goldGradient)" opacity="0.9" filter="url(#glow)"/>
      <path d="M-12,-12 L12,-12 L12,12 L-12,12 Z" fill="white" opacity="0.8" transform="rotate(45)"/>
      <circle r="8" fill="url(#islamicGreen)" opacity="0.7"/>
    </g>
    
    <g transform="translate(30, 920)">
      <circle r="18" fill="url(#goldGradient)" opacity="0.9" filter="url(#glow)"/>
      <path d="M-12,-12 L12,-12 L12,12 L-12,12 Z" fill="white" opacity="0.8" transform="rotate(45)"/>
      <circle r="8" fill="url(#islamicGreen)" opacity="0.7"/>
    </g>
    
    <g transform="translate(1170, 920)">
      <circle r="18" fill="url(#goldGradient)" opacity="0.9" filter="url(#glow)"/>
      <path d="M-12,-12 L12,-12 L12,12 L-12,12 Z" fill="white" opacity="0.8" transform="rotate(45)"/>
      <circle r="8" fill="url(#islamicGreen)" opacity="0.7"/>
    </g>
  </g>
  
  <!-- ENHANCED LEGEND AND FOOTER -->
  <g id="legendFooter">
    <rect x="200" y="915" width="800" height="25" rx="12" fill="white" opacity="0.95" stroke="url(#islamicGreen)" stroke-width="2" filter="url(#shadow)"/>
    <text x="600" y="935" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#1B5E20">
      üìñ Clean Architecture Principle: Outer layers depend on inner layers only ‚Ä¢ Dependency Inversion
    </text>
    
    <!-- Islamic pattern footer decoration -->
    <rect x="50" y="945" width="1100" height="3" fill="url(#islamicGreen)" opacity="0.6"/>
    
    <!-- Small Islamic geometric patterns -->
    <g transform="translate(150, 935)">
      <circle r="6" fill="url(#goldGradient)" opacity="0.7"/>
      <path d="M-3,-3 L3,-3 L3,3 L-3,3 Z" fill="white" opacity="0.9" transform="rotate(45)"/>
    </g>
    
    <g transform="translate(1050, 935)">
      <circle r="6" fill="url(#goldGradient)" opacity="0.7"/>
      <path d="M-3,-3 L3,-3 L3,3 L-3,3 Z" fill="white" opacity="0.9" transform="rotate(45)"/>
    </g>
  </g>
</svg>